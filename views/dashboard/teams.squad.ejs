<section class="players-section bg-white mid-round small-padding">
    <div class="row flex-wrap">
        <% if (players && players.length > 0) { %>
            <% 
                // Define the order of positions
                const positionOrder = {
                    'Goalkeeper': 1,
                    'Defender': 2,
                    'Midfielder': 3,
                    'Forward': 4
                };

                // Sort players based on position order
                players.sort((a, b) => {
                    return (positionOrder[a.position] || 5) - (positionOrder[b.position] || 5);
                });
            %>
            <% players.forEach(player => { %>
                <div class="player-card small-round border">
                    <!-- Player image -->
                    <div class="player-image">
                        <img src="/images/<%= player.image || 'human.png' %>" 
                             alt="<%= player.name %>" 
                             class="player-photo" 
                             onerror="this.onerror=null; this.src='/images/human.png';">
                    </div>
                    <!-- Player details -->
                    <div class="player-info text-center small-padding">
                        <h4 class="player-name bold"><%= player.name %></h4>
                        <p class="player-position dark-gray small"><%= player.position %></p>
                    </div>
                </div>
            <% }); %>
        <% } else { %>
            <p>No players available for this team.</p>
        <% } %>
    </div>
</section>
